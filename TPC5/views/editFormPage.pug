extends layout

block content 
  .w3-card-4 
    header.w3-container.w3-blue 
      h1 Tasks Management
    
    .w3-container 
      h1 Add Form
      form.w3-container(method="POST")
            fieldset
                legend Metadata
                label Id
                input.w3-input.w3-round(type="text" name="id")
                label Author
                input.w3-input.w3-round(type="text" name="author")
                label Due Date
                input.w3-input.w3-round(type="text" name="date")
                label Description
                input.w3-input.w3-round(type="text" name="desc")
                label Completed
                input.w3-input.w3-round(type="checkbox" name="completed" value="1")
            
            br
            button.w3-btn.w3-purple.w3-mb-2(type="submit") Add Task 

      h1 Edit Form
      form.w3-container(method="POST")
            fieldset
                legend Metadata
                label Id
                input.w3-input.w3-round(type="text" name="id" value=t.id)
                label Author
                input.w3-input.w3-round(type="text" name="author" value=t.author)
                label Due Date
                input.w3-input.w3-round(type="text" name="date" value=t.date)
                label Description
                input.w3-input.w3-round(type="text" name="desc" value=t.desc)
                label Completed
                input.w3-input.w3-round(type="checkbox" name="completed" value="1")
            
            br
            button.w3-btn.w3-purple.w3-mb-2(type="submit") Edit Task
    
    .tasks 
      .w3-container 
        h1 To Do Tasks
        table.w3-table.w3-striped
          tr
            th Id
            th Author
            th Due Date
            th Description
            th Operations
          each task in tlist
            if !task.completed 
              tr 
                td=task.id
                td=task.author
                td=task.date
                td=task.desc
                td 
                  button.w3-btn.w3-round.w3-indigo.w3-margin-right 
                    a(href="/tasks/edit/"+task.id) Edit
                  button.w3-btn.w3-round.w3-indigo.w3-margin-right  
                    a(href="/tasks/delete/"+task.id) Delete
      .w3-container 
        h1 Done Tasks
        table.w3-table.w3-striped
          tr
              th Id
              th Author
              th Due Date
              th Description
              th Operations
          each task in tlist
            if task.completed 
              tr 
                td=task.id
                td=task.author
                td=task.date
                td=task.desc
                td 
                  button.w3-btn.w3-round.w3-indigo.w3-margin-right  
                    a(href="/tasks/delete/"+task.id) Delete

    footer.w3-container.w3-teal
      h5 Generated by EngWeb2023 in #{d}

